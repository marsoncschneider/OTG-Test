-- Script / https://tibiaking.com/forums/topic/92830-tfs-13-teleport-com-janela/?tab=comments#comment-509218
 
-- 431 /	13733	/	23087 
 
local config = {
titulo = "Bem vindo ao www.otfacil.com.br!", -- Titulo da Janela
mensagem = "Selecione qual hunt voce deseja ir:", -- Mensagem abaixo do título da janela
}
 
CONFIG_TPS_JANELA = {

[19240] = {
{nome = "Bony Sea Devil", pos = {x = 1256, y = 713, z = 9}},
},

[19239] = {
{nome = "Courage Leech", pos = {x = 793, y = 912, z = 8}},
},

[19238] = {
{nome = "Branchy Crawler", pos = {x = 872, y = 892, z = 8}},
},

[19237] = {
{nome = "Infernal Demon", pos = {x = 786, y = 361, z = 9}},
},

[19236] = {
{nome = "Rotten Golem", pos = {x = 807, y = 469, z = 11}},
},

[19235] = {
{nome = "Cloak Of Terror", pos = {x = 723, y = 431, z = 10}},
},

[19234] = {
{nome = "Many Faces", pos = {x = 648, y = 373, z = 9}},
},

[19233] = {
{nome = "Sorcerer'S Apparition", pos = {x = 544, y = 471, z = 9}},
},

[19232] = {
{nome = "Knight'S Apparition", pos = {x = 361, y = 469, z = 14}},
},

[19231] = {
{nome = "Druid'S Apparition", pos = {x = 623, y = 571, z = 9}},
},

[19230] = {
{nome = "Paladin'S Apparition", pos = {x = 685, y = 576, z = 9}},
},

[19229] = {
{nome = "Mirror Image", pos = {x = 666, y = 475, z = 9}},
},

[19228] = {
{nome = "Vibrant Phantom", pos = {x = 390, y = 386, z = 13}},
},

-- SYSTEM BOSS
[19227] = {
{nome = "Soul of Dragonking Zyrtarch", pos = {x = 459, y = 599, z = 15}},
{nome = "Ancient Lion Knight", pos = {x = 16, y = 21, z = 15}},
},

[19226] = {
{nome = "Biting Book #1", pos = {x = 318, y = 879, z = 7}},
},

[19225] = {
{nome = "Outland #1", pos = {x = 541, y = 365, z = 6}},
{nome = "Outland #2", pos = {x = 334, y = 705, z = 6}},
{nome = "Outland #3", pos = {x = 227, y = 284, z = 6}},
},

[19224] = {
{nome = "Skeleton Elite Warrior #1", pos = {x = 419, y = 671, z = 8}},
{nome = "Skeleton Elite Warrior #2", pos = {x = 457, y = 668, z = 8}},
},

[19223] = {
{nome = "Feral Sphinx #1", pos = {x = 1327, y = 641, z = 7}},
},

[19222] = {
{nome = "Lamassu #1", pos = {x = 1335, y = 684, z = 7}},
},


[19221] = {
{nome = "Insane Siren #1", pos = {x = 1345, y = 693, z = 7}},
},

[19220] = {
{nome = "Thanatursus #1", pos = {x = 1392, y = 699, z = 7}},
},

[19219] = {
{nome = "Adult Goanna #1", pos = {x = 1410, y = 672, z = 7}},
},

[19218] = {
{nome = "Gelidrazah the Frozen #1", pos = {x = 186, y = 214, z = 7}},
},

[19217] = {
{nome = "Koshei the Deathless #1", pos = {x = 369, y = 392, z = 0}},
},

[19217] = {
{nome = "Zorvorax #1", pos = {x = 327, y = 876, z = 6}},
},


[19216] = {
{nome = "Orc Leader #1", pos = {x = 377, y = 392, z = 7}},
},


[19215] = {
{nome = "Golden Servant #1", pos = {x = 316, y = 357, z = 7}},
},

[19214] = {
{nome = "Falcon Paladin #1", pos = {x = 438, y = 292, z = 9}},
},

[19213] = {
{nome = "True Midnight Asura #1", pos = {x = 467, y = 360, z = 7}},
},

[19212] = {
{nome = "Knowledge Elemental #1", pos = {x = 407, y = 323, z = 8}},
},

[19211] = {
{nome = "Falcon Knight #1", pos = {x = 401, y = 367, z = 7}},
},

[19210] = {
{nome = "Animated Feather - 1", pos = {x = 621, y = 661, z = 7}},
},

[19098] = { -- Global Hunt!
{nome = "The Hive", pos = {x = 979, y = 296, z = 7}},
{nome = "Okolnir", pos = {x = 403, y = 87, z = 7}},
{nome = "Secret Library", pos = {x = 1741, y = 229, z = 8}},
{nome = "Dragon Lair (Darashia)", pos = {x = 1350, y = 680, z = 10}},
{nome = "Falcon Bastion", pos = {x = 1328, y = 558, z = 7}},
{nome = "Cobra Bastion", pos = {x = 658, y = 459, z = 7}},
{nome = "Buried Cathedral", pos = {x = 1446, y = 627, z = 8}},
{nome = "Lion Sanctum", pos = {x = 950, y = 885, z = 7}},
{nome = "Magistrate Dungeon", pos = {x = 800, y = 236, z = 15}},
{nome = "WarZone I", pos = {x = 358, y = 469, z = 10}},
{nome = "WarZone II", pos = {x = 342, y = 454, z = 11}},
{nome = "WarZone III", pos = {x = 322, y = 453, z = 12}},
{nome = "WarZone IV", pos = {x = 436, y = 487, z = 12}},
{nome = "WarZone V", pos = {x = 441, y = 475, z = 13}},
{nome = "WarZone VI", pos = {x = 427, y = 405, z = 13}},
},

[19099] = { -- Quest
{nome = "Quest Bright Sword", pos = {x = 428, y = 573, z = 8}},
{nome = "BH Quest", pos = {x = 574, y = 272, z = 13}},
{nome = "Quest Poi", pos = {x = 519, y = 600, z = 6}},
{nome = "Quest Inquisition", pos = {x = 914, y = 520, z = 15}},
{nome = "Quest Yalahar", pos = {x = 436, y = 534, z = 14}},
{nome = "Quest 20k", pos = {x = 393, y = 533, z = 8}},
{nome = "The Annihilator Quest", pos = {x = 545, y = 720, z = 12}},
{nome = "Quest Full Helmet of the Ancients", pos = {x = 295, y = 463, z = 7}},
{nome = "Arena Quest", pos = {x = 155, y = 249, z = 7}},
{nome = "Demon Helmet", pos = {x = 553, y = 707, z = 10}},
},

[19100] = { -- ID do action que ficará no portal da hunt
{nome = "Salvador City", pos = {x = 438, y = 505, z = 7}}, -- Segue padrão, nome da cave e posição que o player será teleportado
{nome = "Rio de Janeiro City", pos = {x = 359, y = 492, z = 7}},
{nome = "Sao Paulo City", pos = {x = 467, y = 422, z = 7}},
{nome = "Belo Horizonte City", pos = {x = 402, y = 385, z = 6}},
{nome = "Porto Alegre City", pos = {x = 433, y = 647, z = 7}},
{nome = "Recife City", pos = {x = 138, y = 233, z = 7}},
{nome = "Manaus City", pos = {x = 548, y = 695, z = 7}},
{nome = "Acre City", pos = {x = 1449, y = 711, z = 7}},
{nome = "Carlin City", pos = {x = 940, y = 887, z = 7}},
},

[19101] = { -- ID do action que ficará no portal da hunt
{nome = "Rotworm #1", pos = {x = 461, y = 501, z = 8}},
},

[19102] = {
{nome = "Carrion Worm #1", pos = {x = 477, y = 525, z = 8}},
},

[19103] = {
{nome = "Ghoul #1", pos = {x = 441, y = 528, z = 8}},
},

[19104] = {
{nome = "Rotworm Queen #1", pos = {x = 503, y = 556, z = 9}},
},

[19105] = {
{nome = "Dwarf #1", pos = {x = 529, y = 515, z = 8}},
},

[19106] = {
{nome = "Dwarf Soldier #1", pos = {x = 507, y = 515, z = 9}},
},

[19107] = {
{nome = "Amazon #1", pos = {x = 563, y = 545, z = 7}},
},

[19108] = {
{nome = "Valkyrie #1", pos = {x = 580, y = 518, z = 8}},
},

[19109] = {
{nome = "Cyclops #1", pos = {x = 436, y = 539, z = 6}},
},

[19110] = {
{nome = "Wild Warrior #1", pos = {x = 555, y = 492, z = 7}},
},

[19111] = {
{nome = "Wyvern 1", pos = {x = 503, y = 533, z = 7}},
},

[19112] = {
{nome = "Dragon #1", pos = {x = 510, y = 469, z = 6}},
{nome = "Dragon #2", pos = {x = 507, y = 588, z = 9}},
{nome = "Dragon 3", pos = {x = 377, y = 549, z = 6}},
},

[19113] = {
{nome = "Dragon Lord 1", pos = {x = 504, y = 624, z = 10}},
{nome = "Dragon Lord 2", pos = {x = 328, y = 543, z = 6}},
{nome = "Dragon Lord 3", pos = {x = 378, y = 787, z = 8}},
},

[19114] = {
{nome = "Giant Spider 1", pos = {x = 505, y = 639, z = 8}},
},

[19115] = {
{nome = "Cyclops Drone #1", pos = {x = 516, y = 567, z = 7}},
},

[19116] = {
{nome = "Anciet Scarab 1", pos = {x = 294, y = 550, z = 8}},
},

[19117] = {
{nome = "Wyrm 1", pos = {x = 325, y = 436, z = 6}},
},

[19118] = {
{nome = "Hydra 1", pos = {x = 268, y = 463, z = 6}},
{nome = "Hydra 2", pos = {x = 394, y = 722, z = 7}},
},

[19119] = {
{nome = "Necromancer 1", pos = {x = 273, y = 434, z = 9}},
{nome = "Necromancer 2", pos = {x = 389, y = 620, z = 9}},
{nome = "Necromancer 3", pos = {x = 427, y = 641, z = 11}},
},

[19120] = {
{nome = "Vampire 1", pos = {x = 262, y = 416, z = 8}},
{nome = "Vampire 2", pos = {x = 406, y = 587, z = 9}},
{nome = "Vampire 3", pos = {x = 447, y = 622, z = 11}},
},

[19121] = {
{nome = "Scarab #1", pos = {x = 276, y = 461, z = 8}},
},


[19122] = {
{nome = "Enlightened Of The Cult 1", pos = {x = 279, y = 408, z = 7}},
},

[19123] = {
{nome = "Adept Of The Cult 1", pos = {x = 287, y = 408, z = 5}},
},

[19124] = {
{nome = "Blood Hand 1", pos = {x = 248, y = 406, z = 10}},
},

[19125] = {
{nome = "Sparkion 1", pos = {x = 365, y = 554, z = 8}},
},

[19126] = {
{nome = "Breach Brood 1", pos = {x = 376, y = 577, z = 9}},
},

[19127] = {
{nome = "Dread Intruder 1", pos = {x = 346, y = 610, z = 10}},
},

[19128] = {
{nome = "Overcharged Energy Elemental 1", pos = {x = 413, y = 632, z = 10}},
},

[19129] = {
{nome = "Enslaved Dwarf 1", pos = {x = 334, y = 353, z = 10}},
},

[19130] = {
{nome = "Minotaur Amazon 1", pos = {x = 303, y = 458, z = 10}},
},

[19131] = {
{nome = "Lost Husher 1", pos = {x = 329, y = 409, z = 9}},
},

[19132] = {
{nome = "Flameborn 1", pos = {x = 321, y = 418, z = 10}},
},

[19133] = {
{nome = "Acolyte Of The Cult 1", pos = {x = 289, y = 414, z = 6}},
},

[19134] = {
{nome = "Acolyte Of The Cult 1", pos = {x = 523, y = 388, z = 9}},
},

[19135] = {
{nome = "Monk 1", pos = {x = 530, y = 369, z = 10}},
},

[19136] = {
{nome = "Askarak Demon 1", pos = {x = 496, y = 332, z = 6}},
},

[19137] = {
{nome = "Cyclops Smith #1", pos = {x = 532, y = 305, z = 8}},
},

[19138] = {
{nome = "Nightmare Scion - 1", pos = {x = 531, y = 296, z = 11}},
},

[19139] = {
{nome = "Behemoth - 1", pos = {x = 571, y = 317, z = 15}},
},

[19140] = {
{nome = "Mad Mage - 1", pos = {x = 584, y = 318, z = 12}},
},

-- 431 /	13733	/	23087 

[19141] = {
{nome = "Corym Charlatan - 1", pos = {x = 485, y = 415, z = 8}},
},

[19142] = {
{nome = "Corym Skirmisher - 1", pos = {x = 458, y = 424, z = 9}},
},

[19143] = {
{nome = "Corym Vanguard - 1", pos = {x = 445, y = 428, z = 10}},
},

[19144] = {
{nome = "Minotaur Hunter - 1", pos = {x = 567, y = 246, z = 10}},
},

[19145] = {
{nome = "Nightstalker - 1", pos = {x = 453, y = 290, z = 9}},
},

[19146] = {
{nome = "Shock Head - 1", pos = {x = 409, y = 426, z = 8}},
},

[19147] = {
{nome = "Vexclaw - 1", pos = {x = 379, y = 340, z = 7}},
},

[19148] = {
{nome = "Silencer - 1", pos = {x = 359, y = 395, z = 8}},
},

[19149] = {
{nome = "Demon Outcast - 1", pos = {x = 367, y = 358, z = 8}},
},

[19150] = {
{nome = "Retching Horror - 1", pos = {x = 397, y = 427, z = 8}},
},

[19151] = {
{nome = "Orc Warlord #1", pos = {x = 354, y = 377, z = 7}},
},

[19152] = {
{nome = "Hellflayer - 1", pos = {x = 387, y = 355, z = 7}},
{nome = "Hellflayer - 2", pos = {x = 316, y = 408, z = 8}},
},

[19153] = {
{nome = "Serpent Spawn - 1", pos = {x = 414, y = 365, z = 7}},
},

[19154] = {
{nome = "Frazzlemaw - 1", pos = {x = 328, y = 370, z = 8}},
},

[19155] = {
{nome = "Guzzlemaw 1", pos = {x = 335, y = 363, z = 8}},
{nome = "Guzzlemaw 2", pos = {x = 338, y = 339, z = 9}},
},

[19156] = {
{nome = "Choking Fear 1", pos = {x = 375, y = 370, z = 8}},
},

[19157] = {
{nome = "Werewolf 1", pos = {x = 380, y = 680, z = 9}},
},

[19158] = {
{nome = "Vampire Bride 1", pos = {x = 390, y = 755, z = 8}},
},

[19159] = {
{nome = "Bog Raider 1", pos = {x = 477, y = 591, z = 8}},
},

[19160] = {
{nome = "Warlock 1", pos = {x = 337, y = 842, z = 6}},
{nome = "Warlock 2", pos = {x = 431, y = 769, z = 9}},
{nome = "Warlock 3", pos = {x = 498, y = 710, z = 9}},
},

[19161] = {
{nome = "War Golem 1", pos = {x = 364, y = 835, z = 7}},
},

[19162] = {
{nome = "Worker Golem 1", pos = {x = 360, y = 821, z = 7}},
},

[19163] = {
{nome = "Hero 1", pos = {x = 437, y = 730, z = 8}},
{nome = "Hero 2", pos = {x = 483, y = 725, z = 8}},
},

[19164] = {
{nome = "Black Knight 1", pos = {x = 454, y = 598, z = 9}},
},

[19165] = {
{nome = "Draken Warmaster 1", pos = {x = 496, y = 579, z = 10}},
{nome = "Draken Warmaster 2", pos = {x = 347, y = 855, z = 9}},
},

[19166] = {
{nome = "Draken Spellweaver 1", pos = {x = 336, y = 832, z = 10}},
},

[19167] = {
{nome = "Draken Elite #1", pos = {x = 358, y = 841, z = 10}},
},

[19168] = {
{nome = "Draken Abomination #1", pos = {x = 314, y = 841, z = 10}},
},

[19169] = {
{nome = "Demon #1", pos = {x = 543, y = 714, z = 10}},
{nome = "Demon #2", pos = {x = 361, y = 860, z = 7}},
{nome = "Demon #3", pos = {x = 624, y = 699, z = 6}},
},

[19170] = {
{nome = "Frost Dragon 1", pos = {x = 70, y = 169, z = 6}},
{nome = "Frost Dragon 2", pos = {x = 403, y = 87, z = 7}},
},

[19171] = {
{nome = "Ice Witch 1", pos = {x = 89, y = 173, z = 8}},
{nome = "Ice Witch 2", pos = {x = 142, y = 176, z = 8}},
},

[19172] = {
{nome = "Crystal Spider 1", pos = {x = 43, y = 191, z = 7}},
{nome = "Crystal Spider 2", pos = {x = 128, y = 170, z = 6}},
},

[19173] = {
{nome = "Crystal Wolf 1", pos = {x = 142, y = 191, z = 7}},
},

[19174] = {
{nome = "Barbarian Skullhunter #1", pos = {x = 106, y = 212, z = 8}},
},

[19175] = {
{nome = "Barbarian Bloodwalker #1", pos = {x = 120, y = 196, z = 9}},
},

[19176] = {
{nome = "Medusa 1", pos = {x = 591, y = 680, z = 8}},
},

[19177] = {
{nome = "Elder Wyrm 1", pos = {x = 537, y = 755, z = 6}},
},

[19178] = {
{nome = "Ghastly Dragon 1", pos = {x = 506, y = 773, z = 5}},
},

[19179] = {
{nome = "Lizard Chosen 1", pos = {x = 584, y = 737, z = 5}},
},

[19180] = {
{nome = "Lizard Zaogun 1", pos = {x = 590, y = 713, z = 5}},
{nome = "Lizard Zaogun 2", pos = {x = 593, y = 733, z = 6}},
},

[19181] = {
{nome = "Lizard Legionnaire 1", pos = {x = 586, y = 735, z = 7}},
},

[19182] = {
{nome = "Lizard Dragon Priest 1", pos = {x = 590, y = 712, z = 7}},
},

[19183] = {
{nome = "Lizard High Guard 1", pos = {x = 593, y = 706, z = 6}},
},

[19184] = {
{nome = "Raging Mage 1", pos = {x = 558, y = 788, z = 5}},
},

[19185] = {
{nome = "Fury 1", pos = {x = 570, y = 775, z = 6}},
},

[19186] = {
{nome = "Grim Reaper 1", pos = {x = 561, y = 701, z = 9}},
},

[19191] = {
{nome = "Weeper 1", pos = {x = 342, y = 455, z = 11}},
},

[19192] = {
{nome = "Lost Berserker 1", pos = {x = 342, y = 455, z = 11}},
{nome = "Lost Berserker 2", pos = {x = 321, y = 454, z = 12}},
},

[19193] = {
{nome = "Magma Crawler 1", pos = {x = 342, y = 455, z = 11}},
},

[19194] = {
{nome = "Infected Weeper 1", pos = {x = 342, y = 455, z = 11}},
},

[19195] = {
{nome = "Lava Golem 1", pos = {x = 342, y = 455, z = 11}},
},

[19196] = {
{nome = "Ironblight 1", pos = {x = 321, y = 454, z = 12}},
},

[19197] = {
{nome = "Orewalker 1", pos = {x = 321, y = 454, z = 12}},
},

[19198] = {
{nome = "Cliff Strider 1", pos = {x = 321, y = 454, z = 12}},
},

[19199] = {
{nome = "Grimeleech 1", pos = {x = 620, y = 628, z = 7}},
},

[19200] = {
{nome = "Deepling Spellsinger #1", pos = {x = 549, y = 567, z = 8}},
},

[19201] = {
{nome = "Deepling Warrior #1", pos = {x = 235, y = 408, z = 8}},
},

[19202] = {
{nome = "Deepling Guard #1", pos = {x = 625, y = 685, z = 8}},
},

[19203] = {
{nome = "Hellhound 1", pos = {x = 562, y = 367, z = 7}},
},

[19204] = {
{nome = "Undead Dragon 1", pos = {x = 556, y = 386, z = 7}},
},

[19205] = {
{nome = "Lord of the Elements 1", pos = {x = 543, y = 357, z = 7}},
},

[19206] = {
{nome = "Crawler #1", pos = {x = 403, y = 326, z = 7}},
},

[19207] = {
{nome = "Insectoid Worker #1", pos = {x = 403, y = 326, z = 7}},
},

[19208] = {
{nome = "Swarmer #1", pos = {x = 403, y = 326, z = 7}},
},

}


local modalWindowOtFacil = CreatureEvent("modalWindowOtFacil")
function modalWindowOtFacil.onModalWindow(player, modalWindowId, buttonId, choiceId)
	print('modalWindowOtFacil > LOADED')
	player:unregisterEvent("modalWindowOtFacil")
	if (modalWindowId == 1000) then
		if (buttonId == 100) then
			local tele_pos = CONFIG_TPS_JANELA[JANELA_TP_ACTION][choiceId].pos
			player:teleportTo(tele_pos)
			local pos_t = Position(tele_pos)
			pos_t:sendMagicEffect(CONST_ME_MAGIC_BLUE)
		end
	end
	return true
end



modalWindowOtFacil:register()

local modalOtFacilEntrance = MoveEvent()
function modalOtFacilEntrance.onStepIn(creature, item, position, fromPosition)
	print('modalOtFacilEntrance > LOADED')
	if ((CONFIG_TPS_JANELA[item:getActionId()]) and creature:isPlayer()) then
	print('step2')
		JANELA_TP_ACTION = item:getActionId()
		creature:teleportTo(fromPosition, true)
		creature:registerEvent("modalWindowOtFacil")
		local janela = ModalWindow(1000, config.titulo, config.mensagem)
		
		for i, v in ipairs(CONFIG_TPS_JANELA[JANELA_TP_ACTION]) do
			janela:addChoice(i, v.nome)
		end
		
		janela:addButton(100, "Confirmar")
		janela:addButton(101, "Fechar")
		janela:setDefaultEnterButton(100)
		janela:setDefaultEscapeButton(101)
		janela:sendToPlayer(creature)
	end
	return true
end

--modalOtFacilEntrance:position({x = 1116, y = 1092, z = 7}) --OPÇAO POR Position
modalOtFacilEntrance:uid(10258)
modalOtFacilEntrance:register()
